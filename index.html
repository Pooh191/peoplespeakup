<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ประชาชนพูดได้ - Video Summary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="shortcut icon" href="https://peoplespeakup.vercel.app/logo.png" type="image/x-icon">
    <style>
        body { 
            font-family: 'Kanit', sans-serif; 
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            position: relative;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(237, 28, 36, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(52, 152, 219, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 40% 40%, rgba(46, 204, 113, 0.05) 0%, transparent 40%);
            z-index: -1;
        }
        .card-red-border { 
            border-top: 5px solid #ed1c24;
            border-radius: 20px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            position: relative;
            background: white;
        }
        .card-red-border::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, rgba(237, 28, 36, 0.05), rgba(237, 28, 36, 0.02));
            z-index: 0;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .card-red-border:hover::before {
            opacity: 1;
        }
        .card-red-border:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 25px 50px rgba(237, 28, 36, 0.15);
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .fade-in {
            animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .gradient-header {
            background: linear-gradient(135deg, #ed1c24 0%, #c81015 100%);
            position: relative;
            overflow: hidden;
        }
        .gradient-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%),
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        .gradient-btn {
            background: linear-gradient(135deg, #ed1c24 0%, #ff4757 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(237, 28, 36, 0.2);
            position: relative;
            overflow: hidden;
        }
        .gradient-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        .gradient-btn:hover::before {
            left: 100%;
        }
        .gradient-btn:hover {
            background: linear-gradient(135deg, #d0111a 0%, #ff3838 100%);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(237, 28, 36, 0.3);
        }
        .category-badge {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff9f43 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
            position: relative;
            overflow: hidden;
            display: inline-block;
        }
        .category-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        .category-badge:hover::before {
            left: 100%;
        }
        .date-badge {
            background: linear-gradient(135deg, #3498db 0%, #2ecc71 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
            display: inline-block;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        .floating-action {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .floating-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
        }
        .floating-btn:hover::before {
            animation: shine 1s;
        }
        @keyframes shine {
            100% { transform: translateX(100%); }
        }
        .reload-btn {
            background: linear-gradient(135deg, #ed1c24 0%, #ff6b6b 100%);
            color: white;
        }
        .scroll-top-btn {
            background: linear-gradient(135deg, #3498db 0%, #2ecc71 100%);
            color: white;
        }
        .thumbnail-container {
            position: relative;
            overflow: hidden;
            border-radius: 20px 20px 0 0;
            height: 220px;
        }
        .thumbnail-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%);
            pointer-events: none;
        }
        .thumbnail-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            z-index: 2;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        .play-btn {
            background: rgba(237, 28, 36, 0.9);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4);
            position: relative;
            overflow: hidden;
        }
        .play-btn:hover {
            transform: scale(1.1);
            background: rgba(237, 28, 36, 1);
        }
        .summary-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #3498db 0%, #2ecc71 100%);
            color: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
            position: relative;
            overflow: hidden;
        }
        .summary-btn:hover {
            transform: rotate(180deg) scale(1.1);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
        }
        .loading-wave {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }
        .loading-wave div {
            width: 10px;
            height: 30px;
            background: linear-gradient(135deg, #ed1c24 0%, #ff6b6b 100%);
            border-radius: 10px;
            animation: wave 1.2s ease-in-out infinite;
        }
        .loading-wave div:nth-child(1) { animation-delay: -0.4s; }
        .loading-wave div:nth-child(2) { animation-delay: -0.2s; }
        .loading-wave div:nth-child(3) { animation-delay: 0s; }
        .loading-wave div:nth-child(4) { animation-delay: 0.2s; }
        
        @keyframes wave {
            0%, 100% { transform: scaleY(0.3); }
            50% { transform: scaleY(1); }
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(237, 28, 36, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(237, 28, 36, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(237, 28, 36, 0); }
        }
        .shine-effect {
            position: relative;
            overflow: hidden;
        }
        .shine-effect::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            transition: 0.6s;
        }
        .shine-effect:hover::after {
            left: 100%;
        }
        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.4s ease;
        }
        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }
        .progress-bar {
            height: 6px;
            background: rgba(237, 28, 36, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ed1c24 0%, #ff6b6b 100%);
            border-radius: 3px;
            transition: width 1.5s ease-in-out;
        }
        .video-card:hover .thumbnail-container img {
            transform: scale(1.1);
        }
        .search-input {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid transparent;
            background-clip: padding-box;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .search-input:focus {
            border-color: #ed1c24;
            box-shadow: 0 5px 25px rgba(237, 28, 36, 0.2);
        }
        .filter-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .filter-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, #ed1c24, #ff6b6b);
            transition: width 0.3s ease;
        }
        .filter-btn:hover::after {
            width: 100%;
        }
        .hero-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(237, 28, 36, 0.1) 0%, transparent 55%),
                radial-gradient(circle at 75% 75%, rgba(52, 152, 219, 0.1) 0%, transparent 55%);
        }
        .modal-backdrop {
            backdrop-filter: blur(10px);
        }
        .floating-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        .floating-bg div {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(237, 28, 36, 0.1), rgba(52, 152, 219, 0.1));
            animation: float 20s infinite linear;
        }
        .floating-bg div:nth-child(1) {
            width: 300px;
            height: 300px;
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }
        .floating-bg div:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 60%;
            right: 10%;
            animation-delay: -5s;
        }
        .floating-bg div:nth-child(3) {
            width: 250px;
            height: 250px;
            bottom: 10%;
            left: 20%;
            animation-delay: -10s;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(90deg); }
            50% { transform: translateY(0) rotate(180deg); }
            75% { transform: translateY(20px) rotate(270deg); }
        }
        .text-gradient {
            background: linear-gradient(135deg, #ed1c24, #ff6b6b);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .counter-animation {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Floating Background Elements -->
    <div class="floating-bg">
        <div></div>
        <div></div>
        <div></div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="floating-action">
        <div class="floating-btn reload-btn pulse" onclick="loadData()" title="รีโหลดข้อมูล">
            <i class="fas fa-sync-alt text-xl"></i>
        </div>
        <div class="floating-btn scroll-top-btn" onclick="scrollToTop()" title="กลับด้านบน">
            <i class="fas fa-arrow-up text-xl"></i>
        </div>
    </div>

    <header class="gradient-header text-white py-8 mb-12 sticky top-0 z-50 shadow-2xl">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row justify-between items-center">
                <div class="flex items-center mb-8 lg:mb-0">
                    <div class="relative group">
                        <div class="bg-white p-3 rounded-2xl shadow-2xl mr-6 flex items-center justify-center transform transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110 relative overflow-hidden">
                            <img src="https://peoplespeakup.vercel.app/logo.png" alt="ประชาชนพูดได้" class="h-14 z-10 relative" 
                                onerror="this.onerror=null; this.style.display='none'; 
                                        this.parentElement.innerHTML='<i class=\'fas fa-microphone-alt text-3xl text-red-600 z-10 relative\'></i>';">
                            <div class="absolute inset-0 bg-gradient-to-r from-red-400 to-red-600 opacity-20 blur-xl"></div>
                        </div>
                        <div class="absolute -inset-4 bg-red-500 rounded-3xl blur opacity-0 group-hover:opacity-30 transition-opacity duration-300"></div>
                    </div>
                    <div>
                        <h1 class="text-4xl font-bold mb-2 flex items-center">
                            <span class="shine-effect">ประชาชนพูดได้</span>
                            <i class="fas fa-microphone-alt text-2xl ml-4 text-red-300 animate-pulse"></i>
                        </h1>
                        <p class="text-white/90 text-lg">สรุปประเด็นสำคัญจากวิดีโอต่าง ๆ</p>
                    </div>
                </div>
                <div class="text-center">
                    <div class="glass-effect px-8 py-5 rounded-3xl shadow-xl transform hover:scale-105 transition-transform duration-300">
                        <div class="flex items-center justify-center space-x-3 mb-2">
                            <div class="p-3 bg-gradient-to-r from-red-500 to-red-600 rounded-full shadow-lg">
                                <i class="fas fa-video text-2xl text-white"></i>
                            </div>
                            <div>
                                <div class="text-sm text-gray-600 font-medium">คลิปวิดีโอทั้งหมด</div>
                                <div id="video-count" class="font-bold text-3xl text-gray-800 animate-count">0</div>
                            </div>
                        </div>
                        <div class="text-sm text-gray-500 mt-2 flex items-center justify-center">
                            <i class="far fa-clock mr-1 animate-spin" style="animation-duration: 2s;"></i>
                            อัปเดตล่าสุด: <span id="update-time" class="font-medium ml-1">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 pb-24">
        <!-- ตัวกรองหมวดหมู่ -->
        <div class="mb-12 glass-effect p-8 rounded-3xl shadow-xl hero-pattern">
            <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-3">ค้นหาคลิปที่สนใจ</h2>
                    <p class="text-gray-600 text-lg">เลือกหมวดหมู่ที่ต้องการดูหรือค้นหาจากคำสำคัญ</p>
                </div>
                <div class="mt-6 lg:mt-0 flex flex-col sm:flex-row gap-4">
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="ค้นหาคลิป..." 
                               class="search-input pl-12 pr-6 py-4 rounded-full w-full sm:w-64 focus:outline-none">
                        <i class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <button onclick="showAllVideos()" class="px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full font-medium hover:shadow-xl transition-all shadow-lg flex items-center justify-center">
                        <i class="fas fa-redo mr-2"></i>แสดงทั้งหมดใหม่
                    </button>
                </div>
            </div>
            <div class="flex flex-wrap gap-4 mb-8">
                <button class="filter-btn active px-8 py-4 gradient-btn text-white rounded-full font-medium transition-all hover:scale-105 shadow-xl flex items-center text-lg" data-category="ทั้งหมด">
                    <i class="fas fa-th-large mr-3"></i>ทั้งหมด
                </button>
                <button class="filter-btn px-8 py-4 bg-white text-gray-700 rounded-full font-medium transition-all hover:scale-105 hover:bg-red-50 hover:text-red-600 shadow-lg flex items-center border border-gray-200 text-lg" data-category="ข่าวสาร">
                    <i class="fas fa-newspaper mr-3"></i>ข่าวสาร
                </button>
                <button class="filter-btn px-8 py-4 bg-white text-gray-700 rounded-full font-medium transition-all hover:scale-105 hover:bg-blue-50 hover:text-blue-600 shadow-lg flex items-center border border-gray-200 text-lg" data-category="การเมือง">
                    <i class="fas fa-landmark mr-3"></i>การเมือง
                </button>
                <button class="filter-btn px-8 py-4 bg-white text-gray-700 rounded-full font-medium transition-all hover:scale-105 hover:bg-green-50 hover:text-green-600 shadow-lg flex items-center border border-gray-200 text-lg" data-category="เศรษฐกิจ">
                    <i class="fas fa-chart-line mr-3"></i>เศรษฐกิจ
                </button>
                <button class="filter-btn px-8 py-4 bg-white text-gray-700 rounded-full font-medium transition-all hover:scale-105 hover:bg-purple-50 hover:text-purple-600 shadow-lg flex items-center border border-gray-200 text-lg" data-category="อื่นๆ">
                    <i class="fas fa-ellipsis-h mr-3"></i>อื่นๆ
                </button>
            </div>
            
            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">
                <div class="stat-card">
                    <div class="flex items-center">
                        <div class="p-3 bg-gradient-to-r from-red-500 to-red-600 rounded-xl mr-4 shadow-lg">
                            <i class="fas fa-fire text-2xl text-white"></i>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">คลิปยอดนิยม</div>
                            <div class="text-2xl font-bold text-gray-800" id="popular-count">0</div>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="flex items-center">
                        <div class="p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl mr-4 shadow-lg">
                            <i class="fas fa-clock text-2xl text-white"></i>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">อัปเดตล่าสุด</div>
                            <div class="text-xl font-bold text-gray-800" id="recent-date">-</div>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="flex items-center">
                        <div class="p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-xl mr-4 shadow-lg">
                            <i class="fas fa-check-circle text-2xl text-white"></i>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">คลิปพร้อมรับชม</div>
                            <div class="text-2xl font-bold text-gray-800" id="available-count">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- สถานะการโหลด -->
        <div id="loading" class="text-center py-20">
            <div class="inline-block mb-8">
                <div class="relative">
                    <div class="animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-red-600"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <i class="fas fa-video text-4xl text-red-600 animate-pulse"></i>
                    </div>
                </div>
            </div>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">กำลังโหลดข้อมูลวิดีโอ</h3>
            <div class="loading-wave mx-auto mb-6">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <p class="text-gray-500 text-lg">กรุณารอสักครู่ กำลังดึงข้อมูลล่าสุด...</p>
            <div class="mt-8">
                <div class="progress-bar w-64 mx-auto">
                    <div class="progress-fill" id="loading-progress" style="width: 0%"></div>
                </div>
            </div>
        </div>
        
        <!-- ตารางแสดงวิดีโอ -->
        <div id="video-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
            <!-- ข้อมูลจะถูกโหลดโดย JavaScript -->
        </div>
        
        <!-- กรณีไม่มีข้อมูล -->
        <div id="no-data" class="hidden text-center py-20">
            <div class="inline-block p-12 bg-gradient-to-br from-red-50 to-pink-50 rounded-3xl mb-8 shadow-2xl">
                <div class="text-red-400 text-8xl mb-6 animate-bounce">
                    <i class="fas fa-video-slash"></i>
                </div>
                <h3 class="text-3xl font-bold text-gray-800 mb-4">ไม่พบข้อมูลวิดีโอ</h3>
                <p class="text-gray-600 text-lg mb-8 max-w-md mx-auto">กรุณาตรวจสอบการเชื่อมต่อหรือลองรีโหลดข้อมูลใหม่</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="loadData()" class="gradient-btn text-white px-10 py-4 rounded-full font-medium hover:shadow-2xl transition-all text-lg flex items-center justify-center">
                        <i class="fas fa-sync-alt mr-3"></i>รีโหลดข้อมูล
                    </button>
                    <button onclick="location.reload()" class="px-10 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full font-medium hover:shadow-2xl transition-all text-lg flex items-center justify-center">
                        <i class="fas fa-redo mr-3"></i>รีเฟรชหน้าเว็บ
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="bg-gradient-to-r from-gray-900 via-blue-900 to-gray-900 text-white pt-16 pb-12 mt-20 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/10 to-black/20"></div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-12">
                <div class="lg:col-span-2">
                    <div class="flex items-center mb-6">
                        <div class="bg-gradient-to-r from-red-600 to-red-700 p-3 rounded-xl shadow-lg mr-4">
                            <i class="fas fa-microphone-alt text-3xl text-white"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold">ประชาชนพูดได้</h3>
                            <p class="text-gray-300">สรุปประเด็นสำคัญจากวิดีโอต่าง ๆ</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-8 max-w-lg">
                        แพลตฟอร์มสรุปประเด็นสำคัญจากวิดีโอต่าง ๆ เพื่อให้เข้าถึงข้อมูลได้ง่ายและรวดเร็ว
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="bg-white/10 p-4 rounded-full hover:bg-white/20 transition-all hover:scale-110 backdrop-blur-sm">
                            <i class="fab fa-facebook-f text-lg"></i>
                        </a>
                        <a href="https://www.youtube.com/@peoplespeakup4" target="_blank"  class="bg-white/10 p-4 rounded-full hover:bg-white/20 transition-all hover:scale-110 backdrop-blur-sm">
                            <i class="fab fa-youtube text-lg"></i>
                        </a>
                        <a href="#" class="bg-white/10 p-4 rounded-full hover:bg-white/20 transition-all hover:scale-110 backdrop-blur-sm">
                            <i class="fab fa-twitter text-lg"></i>
                        </a>
                    </div>  
                </div>
                
                <div>
                    <h4 class="text-xl font-semibold mb-6 pb-3 border-b border-white/20">ข้อมูลอัปเดต</h4>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <div class="p-3 bg-red-500/20 rounded-lg mr-4 backdrop-blur-sm">
                                <i class="fas fa-video text-red-400"></i>
                            </div>
                            <div>
                                <div class="text-sm text-gray-400">จำนวนคลิปทั้งหมด</div>
                                <div id="footer-video-count" class="text-xl font-bold">0</div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="p-3 bg-blue-500/20 rounded-lg mr-4 backdrop-blur-sm">
                                <i class="far fa-calendar-alt text-blue-400"></i>
                            </div>
                            <div>
                                <div class="text-sm text-gray-400">อัปเดตล่าสุด</div>
                                <div id="footer-update-time" class="text-lg font-medium">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-xl font-semibold mb-6 pb-3 border-b border-white/20">เครื่องมือ</h4>
                    <div class="space-y-3">
                        <button onclick="loadData()" class="w-full text-left p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-all flex items-center backdrop-blur-sm">
                            <i class="fas fa-sync-alt mr-3 text-blue-400"></i>
                            <span>รีโหลดข้อมูล</span>
                        </button>
                        <button onclick="scrollToTop()" class="w-full text-left p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-all flex items-center backdrop-blur-sm">
                            <i class="fas fa-arrow-up mr-3 text-green-400"></i>
                            <span>กลับด้านบน</span>
                        </button>
                        <button onclick="showAllVideos()" class="w-full text-left p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-all flex items-center backdrop-blur-sm">
                            <i class="fas fa-th-large mr-3 text-purple-400"></i>
                            <span>แสดงทั้งหมด</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-white/20 mt-12 pt-8 text-center">
                <p class="text-sm text-gray-400">
                    © 2025 <span class="text-gradient font-bold">ประชาชนพูดได้</span> - Video Summary. All rights reserved.
                </p>
                <p class="text-xs text-gray-500 mt-2">เว็บไซต์นี้พัฒนาขึ้นเพื่อสรุปประเด็นสำคัญจากวิดีโอต่าง ๆ</p>
            </div>
        </div>
    </footer>

    <script>
        // URL ของ Google Apps Script
        const GAS_URL = "https://script.google.com/macros/s/AKfycbz8QS0zgeUAV_XCGkJ1utZN2YBXbwiwR4ynKOaP688eSK6Dc92xHLroFwDbdeV9Je-0/exec";
        
        // เก็บข้อมูลทั้งหมด
        let allVideoData = [];
        let currentFilter = 'ทั้งหมด';
        
        // ฟังก์ชันรีเฟรชหน้าเว็บ
        function refreshPage() {
            location.reload();
        }
        
        // ฟังก์ชันเลื่อนกลับด้านบน
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // ฟังก์ชันแสดงวิดีโอทั้งหมด
        function showAllVideos() {
            // รีเซ็ตปุ่มกรอง
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'gradient-btn', 'text-white');
                btn.classList.add('bg-white', 'text-gray-700', 'border', 'border-gray-200');
            });
            
            // ตั้งค่าปุ่มทั้งหมดเป็น active
            document.querySelector('[data-category="ทั้งหมด"]').classList.remove('bg-white', 'text-gray-700', 'border', 'border-gray-200');
            document.querySelector('[data-category="ทั้งหมด"]').classList.add('active', 'gradient-btn', 'text-white');
            
            // รีเซ็ตช่องค้นหา
            document.getElementById('search-input').value = '';
            
            // กรองและแสดงวิดีโอทั้งหมด
            filterVideos('ทั้งหมด');
            
            // แสดงแอนิเมชัน
            const container = document.getElementById('video-container');
            container.classList.add('animate-pulse');
            setTimeout(() => {
                container.classList.remove('animate-pulse');
            }, 500);
            
            // แสดง notification
            showNotification('แสดงวิดีโอทั้งหมดแล้ว', 'success');
        }
        
        // ฟังก์ชันแสดงการนับจำนวนแบบอนิเมชัน
        function animateCount(element, target) {
            let current = 0;
            const increment = target / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current);
                element.classList.add('counter-animation');
                setTimeout(() => {
                    element.classList.remove('counter-animation');
                }, 300);
            }, 30);
        }
        
        // โหลดข้อมูลเมื่อหน้าเว็บโหลดเสร็จ
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            setupEventListeners();
            
            // เพิ่มการค้นหาแบบ real-time
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', function() {
                searchVideos(this.value);
            });
        });
        
        // ฟังก์ชันค้นหาวิดีโอ
        function searchVideos(query) {
            if (!query.trim()) {
                filterVideos(currentFilter);
                return;
            }
            
            const container = document.getElementById('video-container');
            const filteredData = allVideoData.filter(item => {
                const title = item.Title ? item.Title.toLowerCase() : '';
                const summary = item.Summary ? item.Summary.toLowerCase() : '';
                const category = item.Category ? item.Category.toLowerCase() : '';
                const searchTerm = query.toLowerCase();
                
                return title.includes(searchTerm) || 
                       summary.includes(searchTerm) || 
                       category.includes(searchTerm);
            });
            
            if (filteredData.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-16">
                        <div class="inline-block p-10 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-3xl mb-8 shadow-2xl">
                            <div class="text-blue-400 text-8xl mb-6">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3 class="text-3xl font-bold text-gray-800 mb-4">ไม่พบผลลัพธ์</h3>
                            <p class="text-gray-600 text-lg mb-8 max-w-md mx-auto">ไม่พบวิดีโอที่ตรงกับคำค้นหา "${query}"</p>
                            <button onclick="showAllVideos()" class="gradient-btn text-white px-10 py-4 rounded-full font-medium hover:shadow-2xl transition-all text-lg">
                                แสดงทั้งหมด
                            </button>
                        </div>
                    </div>
                `;
                return;
            }
            
            renderVideoCards(filteredData);
        }
        
        function loadData() {
            // แสดงสถานะการโหลด
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('video-container').innerHTML = '';
            document.getElementById('no-data').classList.add('hidden');
            
            // เพิ่มเอฟเฟ็กต์ loading
            const loadingEl = document.getElementById('loading');
            loadingEl.innerHTML = `
                <div class="inline-block mb-8">
                    <div class="relative">
                        <div class="animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-red-600"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <i class="fas fa-video text-4xl text-red-600 animate-pulse"></i>
                        </div>
                    </div>
                </div>
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">กำลังโหลดข้อมูลวิดีโอ</h3>
                <div class="loading-wave mx-auto mb-6">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <p class="text-gray-500 text-lg">กรุณารอสักครู่ กำลังดึงข้อมูลล่าสุด...</p>
                <div class="mt-8">
                    <div class="progress-bar w-64 mx-auto">
                        <div class="progress-fill" id="loading-progress" style="width: 0%"></div>
                    </div>
                </div>
            `;
            
            // แอนิเมชัน progress bar
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 2;
                const progressBar = document.getElementById('loading-progress');
                if (progressBar) {
                    progressBar.style.width = progress + '%';
                }
                if (progress >= 90) {
                    clearInterval(progressInterval);
                }
            }, 50);
            
            fetchDataWithJSONP();
        }
        
        function fetchDataWithJSONP() {
            const timestamp = new Date().getTime();
            const callbackName = 'jsonp_callback_' + timestamp;
            
            const script = document.createElement('script');
            script.src = `${GAS_URL}?callback=${callbackName}&t=${timestamp}`;
            
            window[callbackName] = function(data) {
                delete window[callbackName];
                document.body.removeChild(script);
                
                // อัปเดต progress bar เป็น 100%
                const progressBar = document.getElementById('loading-progress');
                if (progressBar) {
                    progressBar.style.width = '100%';
                }
                
                setTimeout(() => {
                    handleDataResponse(data);
                }, 500);
            };
            
            const timeout = setTimeout(() => {
                if (window[callbackName]) {
                    delete window[callbackName];
                    document.body.removeChild(script);
                    showError("การเชื่อมต่อใช้เวลานานเกินไป");
                }
            }, 20000);
            
            script.onerror = function() {
                clearTimeout(timeout);
                if (window[callbackName]) {
                    delete window[callbackName];
                }
                showError("ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้");
            };
            
            document.body.appendChild(script);
        }
        
        function handleDataResponse(data) {
            // ซ่อนสถานะการโหลด
            document.getElementById('loading').classList.add('hidden');
            
            if (!data || !Array.isArray(data)) {
                console.error("ข้อมูลที่ได้รับไม่ถูกต้อง:", data);
                showError("รูปแบบข้อมูลไม่ถูกต้อง");
                return;
            }
            
            // เก็บข้อมูลทั้งหมด
            allVideoData = data;
            
            // อัปเดตสถิติ
            updateStatistics(data);
            
            // อัปเดตจำนวนวิดีโอด้วยอนิเมชัน
            const videoCount = allVideoData.length;
            const videoCountEl = document.getElementById('video-count');
            const footerVideoCountEl = document.getElementById('footer-video-count');
            
            animateCount(videoCountEl, videoCount);
            footerVideoCountEl.textContent = videoCount;
            
            // แสดงวิดีโอทั้งหมด
            filterVideos(currentFilter);
            
            // อัปเดตเวลาล่าสุด
            const now = new Date();
            const updateTime = `${now.getDate()}/${now.getMonth()+1}/${now.getFullYear()} ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            document.getElementById('update-time').textContent = updateTime;
            document.getElementById('footer-update-time').textContent = updateTime;
            
            // แสดง notification
            showNotification(`โหลดข้อมูลสำเร็จ: ${videoCount} คลิป`, 'success');
        }
        
        function updateStatistics(data) {
            // แก้ไขที่นี่: แสดงวันที่ปัจจุบันแทนวันที่ของวิดีโอล่าสุด
            const now = new Date();
            const updateDate = `${now.getDate()}/${now.getMonth()+1}/${now.getFullYear()} ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            document.getElementById('recent-date').textContent = updateDate;
            
            // คลิปยอดนิยม (สุ่มตัวอย่าง)
            const popularCount = Math.min(data.length, Math.floor(Math.random() * 20) + 10);
            document.getElementById('popular-count').textContent = popularCount;
            
            // คลิปพร้อมรับชม
            const availableCount = data.filter(item => item.VideoURL && item.VideoURL !== '#').length;
            document.getElementById('available-count').textContent = availableCount;
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-6 right-6 z-50 px-6 py-4 rounded-xl shadow-2xl transition-all duration-300 transform translate-x-full ${type === 'success' ? 'bg-gradient-to-r from-green-500 to-green-600' : type === 'warning' ? 'bg-gradient-to-r from-yellow-500 to-yellow-600' : type === 'error' ? 'bg-gradient-to-r from-red-500 to-red-600' : 'bg-gradient-to-r from-blue-500 to-blue-600'} text-white backdrop-blur-sm`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : type === 'error' ? 'times-circle' : 'info-circle'} text-xl mr-3"></i>
                    <span class="font-medium">${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // แสดง notification
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
                notification.classList.add('translate-x-0');
            }, 10);
            
            // ซ่อน notification หลัง 3 วินาที
            setTimeout(() => {
                notification.classList.remove('translate-x-0');
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        function showError(message) {
            document.getElementById('loading').innerHTML = `
                <div class="inline-block p-10 bg-gradient-to-br from-red-50 to-pink-50 rounded-3xl mb-8 shadow-2xl">
                    <div class="text-red-500 text-8xl mb-6 animate-bounce">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-800 mb-4">เกิดข้อผิดพลาด</h3>
                    <p class="text-gray-700 text-lg mb-6 max-w-md mx-auto">${message}</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="loadData()" class="gradient-btn text-white px-10 py-4 rounded-full font-medium hover:shadow-2xl transition-all text-lg flex items-center justify-center">
                            <i class="fas fa-redo mr-3"></i>ลองใหม่อีกครั้ง
                        </button>
                        <button onclick="refreshPage()" class="px-10 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full font-medium hover:shadow-2xl transition-all text-lg flex items-center justify-center">
                            <i class="fas fa-sync-alt mr-3"></i>รีเฟรชหน้าเว็บ
                        </button>
                    </div>
                </div>
            `;
            document.getElementById('no-data').classList.remove('hidden');
        }
        
        function setupEventListeners() {
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // เพิ่มเอฟเฟ็กต์คลิก
                    this.classList.add('animate-pulse');
                    setTimeout(() => {
                        this.classList.remove('animate-pulse');
                    }, 300);
                    
                    // ลบสถานะ active จากปุ่มทั้งหมด
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('active', 'gradient-btn', 'text-white');
                        btn.classList.add('bg-white', 'text-gray-700', 'border', 'border-gray-200');
                    });
                    
                    // เพิ่มสถานะ active ให้ปุ่มที่ถูกคลิก
                    this.classList.remove('bg-white', 'text-gray-700', 'border', 'border-gray-200');
                    this.classList.add('active', 'gradient-btn', 'text-white');
                    
                    // บันทึก filter ปัจจุบัน
                    const category = this.getAttribute('data-category');
                    currentFilter = category;
                    
                    // รีเซ็ตช่องค้นหา
                    document.getElementById('search-input').value = '';
                    
                    // กรองวิดีโอตามหมวดหมู่
                    filterVideos(category);
                    
                    // แสดง notification
                    showNotification(`แสดงหมวดหมู่: ${category}`, 'info');
                });
            });
        }
        
        function filterVideos(category) {
            const container = document.getElementById('video-container');
            
            let filteredData = allVideoData;
            if (category !== 'ทั้งหมด') {
                filteredData = allVideoData.filter(item => {
                    if (item.Category) {
                        if (category === 'อื่นๆ') {
                            const mainCategories = ['ข่าวสาร', 'การเมือง', 'เศรษฐกิจ'];
                            return !mainCategories.some(mainCat => 
                                item.Category.toLowerCase().includes(mainCat.toLowerCase())
                            );
                        } else {
                            return item.Category.toLowerCase().includes(category.toLowerCase());
                        }
                    }
                    if (category === 'อื่นๆ') {
                        const mainCategoryKeywords = ['ข่าว', 'การเมือง', 'เศรษฐกิจ', 'news', 'politics', 'economy'];
                        const title = item.Title ? item.Title.toLowerCase() : '';
                        return !mainCategoryKeywords.some(keyword => title.includes(keyword));
                    }
                    return item.Title && item.Title.toLowerCase().includes(category.toLowerCase());
                });
            }
            
            if (!filteredData || filteredData.length === 0) {
                container.innerHTML = '';
                document.getElementById('no-data').classList.remove('hidden');
                return;
            }
            
            document.getElementById('no-data').classList.add('hidden');
            
            renderVideoCards(filteredData);
        }
        
        function renderVideoCards(filteredData) {
            const container = document.getElementById('video-container');
            
            // เรียงตามวันที่ล่าสุด
            if (filteredData[0] && filteredData[0].Date) {
                filteredData.sort((a, b) => {
                    return new Date(b.Date) - new Date(a.Date);
                });
            }
            
            // สร้างการ์ดแสดงวิดีโอ
            container.innerHTML = filteredData.map((item, index) => {
                const category = item.Category || 'ทั่วไป';
                const date = item.Date ? new Date(item.Date).toLocaleDateString('th-TH', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                }) : '';
                const title = item.Title || 'ไม่มีชื่อ';
                const summary = item.Summary || 'ไม่มีคำอธิบาย';
                const thumbURL = item.ThumbURL || 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                const videoURL = item.VideoURL || '#';
                
                return `
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden card-red-border group fade-in video-card">
                    <div class="thumbnail-container">
                        <img src="${thumbURL}" alt="${title}" 
                             class="w-full h-full object-cover transition-transform duration-700"
                             onerror="this.src='https://images.unsplash.com/photo-1611162617474-5b21e879e113?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="thumbnail-overlay">
                            <div>
                                <div class="category-badge mb-2">
                                    ${category}
                                </div>
                                ${date ? `
                                <div class="date-badge">
                                    <i class="far fa-calendar-alt"></i>
                                    ${date}
                                </div>
                                ` : ''}
                            </div>
                            <a href="${videoURL}" target="_blank" class="play-btn">
                                <i class="fas fa-play"></i>
                            </a>
                        </div>
                    </div>
                    <div class="p-8">
                        <h3 class="font-bold text-2xl text-gray-800 mb-4 line-clamp-2 h-16 group-hover:text-red-600 transition-colors">${title}</h3>
                        <p class="text-gray-600 mb-8 line-clamp-3 h-24 leading-relaxed">${summary}</p>
                        <div class="flex justify-between items-center">
                            <a href="${videoURL}" target="_blank" 
                               class="gradient-btn text-white py-4 px-8 rounded-full font-medium hover:shadow-2xl transition-all flex-1 mr-4 text-center text-lg">
                               <i class="fas fa-play-circle mr-3"></i>ดูคลิปเต็ม
                            </a>
                            <button class="summary-btn"
                                    data-title="${title}" 
                                    data-summary="${summary}"
                                    data-date="${date}"
                                    data-category="${category}">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
            
            // เพิ่ม animation สำหรับการ์ดใหม่
            const cards = container.querySelectorAll('.fade-in');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
            
            // เพิ่ม event listeners สำหรับปุ่มสรุป
            document.querySelectorAll('.summary-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const title = this.getAttribute('data-title');
                    const summary = this.getAttribute('data-summary');
                    const date = this.getAttribute('data-date');
                    const category = this.getAttribute('data-category');
                    
                    showSummaryModal(title, summary, date, category);
                });
            });
        }
        
        function showSummaryModal(title, summary, date, category) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 modal-backdrop';
            modal.innerHTML = `
                <div class="bg-white rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-hidden animate-scaleIn shadow-3xl">
                    <div class="gradient-header text-white p-8">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="text-3xl font-bold">สรุปประเด็น</h3>
                                <div class="flex items-center space-x-4 mt-4">
                                    <span class="bg-white/25 px-4 py-2 rounded-full text-sm font-medium backdrop-blur-sm">${category}</span>
                                </div>
                            </div>
                            <button class="close-modal text-4xl hover:text-gray-200 transition-colors hover:rotate-90 duration-300">&times;</button>
                        </div>
                    </div>
                    <div class="p-10 overflow-y-auto max-h-[65vh]">
                        <div class="mb-8">
                            <h4 class="text-3xl font-bold text-gray-800 mb-6">${title}</h4>
                            ${date ? `
                            <div class="flex items-center text-gray-600 bg-gray-50 p-6 rounded-2xl shadow-inner">
                                <div class="flex items-center">
                                    <div class="p-3 bg-blue-100 rounded-xl mr-4">
                                        <i class="far fa-calendar-alt text-2xl text-blue-500"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-gray-500">วันที่เผยแพร่</div>
                                        <div class="text-xl font-bold text-gray-800">${date}</div>
                                    </div>
                                </div>
                            </div>
                            ` : ''}
                        </div>
                        <div class="bg-gradient-to-br from-gray-50 to-white p-8 rounded-3xl border border-gray-200 shadow-inner">
                            <div class="flex items-center mb-6">
                                <div class="p-3 bg-red-100 rounded-xl mr-4">
                                    <i class="fas fa-file-alt text-2xl text-red-500"></i>
                                </div>
                                <h5 class="text-2xl font-semibold text-gray-700">สรุปเนื้อหา</h5>
                            </div>
                            <div class="text-gray-700 leading-relaxed text-lg whitespace-pre-line">${summary}</div>
                        </div>
                    </div>
                    <div class="p-8 bg-gray-50 border-t">
                        <div class="flex justify-between items-center">
                            <button onclick="shareContent('${title}', '${window.location.href}')" 
                                    class="px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full font-medium hover:shadow-2xl transition-all flex items-center text-lg">
                                <i class="fas fa-share-alt mr-3"></i>แชร์
                            </button>
                            <button class="close-modal px-10 py-4 gradient-btn text-white rounded-full font-medium hover:shadow-2xl transition-all text-lg">
                                ปิดหน้าต่าง
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes scaleIn {
                    from { transform: scale(0.8); opacity: 0; }
                    to { transform: scale(1); opacity: 1; }
                }
                .animate-scaleIn {
                    animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            modal.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', () => {
                    modal.style.animation = 'scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                    setTimeout(() => {
                        document.body.removeChild(modal);
                        document.head.removeChild(style);
                        document.body.style.overflow = 'auto';
                    }, 400);
                });
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.animation = 'scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                    setTimeout(() => {
                        document.body.removeChild(modal);
                        document.head.removeChild(style);
                        document.body.style.overflow = 'auto';
                    }, 400);
                }
            });
            
            document.addEventListener('keydown', function closeModalOnEsc(e) {
                if (e.key === 'Escape') {
                    modal.style.animation = 'scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                    setTimeout(() => {
                        document.body.removeChild(modal);
                        document.head.removeChild(style);
                        document.body.style.overflow = 'auto';
                        document.removeEventListener('keydown', closeModalOnEsc);
                    }, 400);
                }
            });
        }
        
        function shareContent(title, url) {
            if (navigator.share) {
                navigator.share({
                    title: title,
                    text: 'ดูสรุปวิดีโอจาก ประชาชนพูดได้',
                    url: url
                });
            } else {
                navigator.clipboard.writeText(`${title}\n${url}`).then(() => {
                    showNotification('คัดลอกลิงก์ไปยังคลิปบอร์ดแล้ว!', 'success');
                });
            }
        }
        
        // อัปเดตข้อมูลทุก 10 นาที
        setInterval(() => {
            if (!document.hidden) {
                loadData();
            }
        }, 10 * 60 * 1000);
    </script>
</body>
</html>
